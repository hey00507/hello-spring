# 웹 어플리케이션과 싱글톤
- 스프링은 기업용 온라인 서비스 기술을 지원하기 위해 탕생함
- 대부분의 스프링 애플리케이션은 웹 애플리케이션이며, 보통 여러 고객이 동시에 요청을 한다.


## 주의점
- 인스턴스를 하나만 생성해서 공유하는 방식은 상태를 유지하게 설계하면 안된다.
  - 여러 클라이언트가 하나의 객체 인스턴스를 공유함
- 무상태로 설계해야한다.
  - 특정 클라이언트에 의존적인 필드가 있으면 안된다.
  - 특정 클라이언트가 값을 변경할 수 있는 필드가 있으면 안된다.
  - 가급적 읽기만 가능해야한다.
  - 필드 대신 자바에서 공유되지 않는 지역변수, 파라미터 ThreadLocal 등을 사용해야한다.
- 스프링 빈의 필드에 공유 값을 설정하면 정말 큰 장애가 발생할 수 있으니 유의


# @Configuration : Singleton 을 위해 존재하는 어노테이션
```java
/**
 * @Bean memberService -> new MemoryMemberRepository();
 * @Bean orderService -> new MemoryMemberRepository();
 * MemoryMemberRepository 가 두 번 생성된다?
 */
``` 
- 바이트 코드를 조작하며,스프링 빈이 싱글톤이 되도록 보장한다.